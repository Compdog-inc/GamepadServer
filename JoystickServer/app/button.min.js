const BTN_YELLOW=0,BTN_RED=1,BTN_GREEN=2,BTN_BLUE=3;class ControllerButton{ctx;evt;label;gradient;gradientPressed;isPressed;constructor(t,a,e,s){let i=document.getElementById(t),d=document.createElement("canvas");d.width=i.offsetWidth,d.height=i.offsetHeight;let o=d.getContext("2d");this.ctx=o,this.label=a,this.evt=s,this.isPressed=!1;let r=()=>{this.isPressed=!0,this.evt({pressed:!0}),this.render()},h=()=>{this.isPressed=!1,this.evt({pressed:!1}),this.render()};d.addEventListener("pointerdown",r),d.addEventListener("pointerup",h),i.appendChild(d);let c=this.ctx.createRadialGradient(this.ctx.canvas.width/2,this.ctx.canvas.height/2,0,this.ctx.canvas.width/2,this.ctx.canvas.height/2,this.ctx.canvas.height/2);switch(e){case 0:c.addColorStop(0,"rgba(239,236,49,1)"),c.addColorStop(.35,"rgba(192,191,89,1)"),c.addColorStop(1,"rgba(125,125,31,1)");break;case 1:c.addColorStop(0,"rgba(239,49,49,1)"),c.addColorStop(.35,"rgba(192,89,89,1)"),c.addColorStop(1,"rgba(125,31,31,1)");break;case 2:c.addColorStop(0,"rgba(131,220,117,1)"),c.addColorStop(.35,"rgba(107,192,89,1)"),c.addColorStop(1,"rgba(31,125,33,1)");break;case 3:c.addColorStop(0,"rgba(49,59,239,1)"),c.addColorStop(.35,"rgba(89,93,192,1)"),c.addColorStop(1,"rgba(31,39,125,1)")}this.gradient=c;let _=this.ctx.createRadialGradient(this.ctx.canvas.width/2,this.ctx.canvas.height/2,0,this.ctx.canvas.width/2,this.ctx.canvas.height/2,this.ctx.canvas.height/2);switch(e){case 0:_.addColorStop(0,"rgba(120,119,49,1)"),_.addColorStop(.35,"rgba(91,96,40,1)"),_.addColorStop(1,"rgba(56,57,41,1)");break;case 1:_.addColorStop(0,"rgba(120,49,49,1)"),_.addColorStop(.35,"rgba(96,40,40,1)"),_.addColorStop(1,"rgba(57,41,41,1)");break;case 2:_.addColorStop(0,"rgba(59,120,49,1)"),_.addColorStop(.35,"rgba(49,96,40,1)"),_.addColorStop(1,"rgba(41,57,41,1)");break;case 3:_.addColorStop(0,"rgba(49,49,120,1)"),_.addColorStop(.35,"rgba(40,43,96,1)"),_.addColorStop(1,"rgba(41,42,57,1)")}this.gradientPressed=_,requestAnimationFrame(this.render.bind(this))}render(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.strokeStyle="#000",this.ctx.lineWidth=2,this.ctx.beginPath(),this.ctx.ellipse(this.ctx.canvas.width/2,this.ctx.canvas.height/2,this.ctx.canvas.width/2-2,this.ctx.canvas.height/2-2,0,0,2*Math.PI),this.ctx.fillStyle=this.isPressed?this.gradientPressed:this.gradient,this.ctx.fill(),this.ctx.stroke(),this.ctx.fillStyle="#fff",this.ctx.font="35px Helvetica";let t=this.ctx.measureText(this.label),a=(t.actualBoundingBoxRight-t.actualBoundingBoxLeft)/2,e=(t.actualBoundingBoxDescent-t.actualBoundingBoxAscent)/2;this.ctx.fillText(this.label,this.ctx.canvas.width/2-a,this.ctx.canvas.height/2-e)}}